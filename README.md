# ios-scripts

## Очистка, переход в директорию проекта, pod install

Готовит проект к холодной сборке. Запуск по основному (дефолтному) пути:

```Bash
./-pi-cle.sh
```

Чтобы настроить свой основной путь - в коде скрипта есть переменная `PROJECT_PATH_BASE`.
Основной путь полезен, когда один проект скопирован несколько раз.
Это может пригодиться, когда надо часто переключаться между задачами, чтоб не стэшить все время,
или когда надо одновременно читать/собирать код на разных коммитах.

### Аргументы

- `./-pi-cle.sh 2` - первым аргументом можно указать постфикс для `PROJECT_PATH_BASE` \
   Если `PROJECT_PATH_BASE=~/myRepo` то для этого примера скрипт пойдет
   в директорию '~/myRepo2' и будет чистить там. \
   Если 1ый неименованный аргумент не указан, то скрипт использует захардкоженный `DEFAULT_POSTFIX`.  
- `./-pi-cle.sh --help` - показать папку в которой скрипт отработает и остановится
- `./-pi-cle.sh --forced-path \just\some\path` - путь к проекту: \
   если задан этот параметр. то все остальные настройки пути игнорируются.
- `./-pi-cle.sh --rmpfl` - то же что и с `--remove-podfilelock` \
   Удаляет 'Podfile.lock'. Когда аргумент не указан - делает `git checkout Podfile.lock`
- `./-pi-cle.sh --pdd` - то же что и с `--preserve-derived-data` - НЕ чистить DerivedData
- `./-pi-cle.sh --ccpc` - то же что и с `--clean-cocoa-pods-cache` - очистить кэш CocoaPods
- `./-pi-cle.sh --clo` - то же что и с `--clean-only` - НЕ делать `pod install`
- `./-pi-cle.sh --npc` - то же что и с `--no-pod-commands` - НЕ запускать CocoaPods команды
- `./-pi-cle.sh --pru` - то же что и с `--pod-repo-update` - запустить \
   `pod install --repo-update` вместо простого `pod install` 

## Очистка gradle проекта

Очищает gradle проект для холодной сборки. 

### Пример запуска:

```Bash
./-gr-cle.sh
```

## Поиск символа в бинарях

Ищет символ в модулях, которые подключены как скомпилированные бинарные файлы. \
Надо запускать сначала перейдя в директорию проекта.

### Аргументы

- `~/-lib-search.sh "some search string"` - первым аргументом обязательно нужно передать непустую строку. \
   Строка с пробелами должна быть заключена в кавычки как в примере.
- `./-pi-cle.sh "foo" --nm` - использовать для поиска утилиту `nm` вместо `strings`
- `./-pi-cle.sh "foo" --verbose` - выводить больше информации для отладки поиска. Можно использовать "с" и "без" `--nm`

### Примеры:

```Bash
~/-lib-search.sh "precious string constant which I wish to find"
~/-lib-search.sh "preciousObjCOrSwiftMethodName"
~/-lib-search.sh "foo" # for 'func foo(x: Int, y: Double, z: String)'
~/-lib-search.sh "foo" --nm
~/-lib-search.sh "foo" --verbose
```